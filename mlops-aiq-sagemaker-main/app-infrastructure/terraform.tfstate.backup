{
  "version": 4,
  "terraform_version": "1.3.5",
  "serial": 4591,
  "lineage": "567e9d01-d0fa-795f-e5a7-de362f47dfcf",
  "outputs": {
    "EventBridge-Rule-Name": {
      "value": "aiq-analyzers-default-step-function-rule",
      "type": "string"
    },
    "LambdaFunctionComprehend": {
      "value": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-comprehend-file-lambda",
      "type": "string"
    },
    "LambdaFunctionExtract": {
      "value": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-textract-lambda-function",
      "type": "string"
    },
    "LambdaFunctionValidate": {
      "value": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-validate-file-lambda",
      "type": "string"
    },
    "S3-Bucket": {
      "value": "aiq-analyzers-default-344021507737",
      "type": "string"
    },
    "SNS-Topic-ARN": {
      "value": "arn:aws:sns:us-west-2:344021507737:aiq-analyzers-default-sns-topic",
      "type": "string"
    },
    "StepFunction-Name": {
      "value": "aiq-analyzers-default-state-machine",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "archive_file",
      "name": "comprehend",
      "provider": "provider[\"registry.terraform.io/hashicorp/archive\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "excludes": null,
            "id": "98dd873ecea38ac4c5a002db143338f7d5c64c3c",
            "output_base64sha256": "ORRJiIOUGFEFb/qvtFDdtwAiFRNlnpirPzzqYLNWFHM=",
            "output_file_mode": null,
            "output_md5": "6ecdc2998a6f869c98591d9dfa245909",
            "output_path": "../app-infrastructure/lambda_files/comprehend.zip",
            "output_sha": "98dd873ecea38ac4c5a002db143338f7d5c64c3c",
            "output_size": 1093,
            "source": [],
            "source_content": null,
            "source_content_filename": null,
            "source_dir": null,
            "source_file": "../app-infrastructure/lambda_files/comprehend.py",
            "type": "zip"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "archive_file",
      "name": "textract",
      "provider": "provider[\"registry.terraform.io/hashicorp/archive\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "excludes": null,
            "id": "427d3cf11cf9a83b7f2674d00127e1442431a539",
            "output_base64sha256": "J6ZYZI4GlMUR1OgdLk9i10m5hKqCiTtFGHhkv/Xn21Y=",
            "output_file_mode": null,
            "output_md5": "bc73cfd7b8d9e51d0e853108d2bf9b9c",
            "output_path": "../app-infrastructure/lambda_files/textract.zip",
            "output_sha": "427d3cf11cf9a83b7f2674d00127e1442431a539",
            "output_size": 692,
            "source": [],
            "source_content": null,
            "source_content_filename": null,
            "source_dir": null,
            "source_file": "../app-infrastructure/lambda_files/textract.py",
            "type": "zip"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "archive_file",
      "name": "upload",
      "provider": "provider[\"registry.terraform.io/hashicorp/archive\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "excludes": null,
            "id": "2f14945e166674062cf5c013feb66d323229b088",
            "output_base64sha256": "IWtJz9lRVOlJVcq5OIQtXeyfUr3Ig/Hw3puQg5V18ew=",
            "output_file_mode": null,
            "output_md5": "9db096b9668231e57b240351a4b926c6",
            "output_path": "../app-infrastructure/lambda_files/upload.zip",
            "output_sha": "2f14945e166674062cf5c013feb66d323229b088",
            "output_size": 606,
            "source": [],
            "source_content": null,
            "source_content_filename": null,
            "source_dir": null,
            "source_file": "../app-infrastructure/lambda_files/upload.py",
            "type": "zip"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "archive_file",
      "name": "validate",
      "provider": "provider[\"registry.terraform.io/hashicorp/archive\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "excludes": null,
            "id": "91a17be41cb0fd39017b262d12c840ae3cbccaeb",
            "output_base64sha256": "aGFr+a1JINXw5hDUw5lNfQP0SgL0E7ZajkAL+hVAP4Q=",
            "output_file_mode": null,
            "output_md5": "9f0a4ae0c52ce4490048183c5524239b",
            "output_path": "../app-infrastructure/lambda_files/validate.zip",
            "output_sha": "91a17be41cb0fd39017b262d12c840ae3cbccaeb",
            "output_size": 990,
            "source": [],
            "source_content": null,
            "source_content_filename": null,
            "source_dir": null,
            "source_file": "../app-infrastructure/lambda_files/validate.py",
            "type": "zip"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "344021507737",
            "arn": "arn:aws:sts::344021507737:assumed-role/Admin/akapile",
            "id": "344021507737",
            "user_id": "AROAIRT4KXYZ6CRUSSGWW:akapile"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy",
      "name": "EC2SSMAccess",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::aws:policy/service-role/AmazonEC2RoleforSSM",
            "description": "This policy will soon be deprecated. Please use AmazonSSMManagedInstanceCore policy to enable AWS Systems Manager service core functionality on EC2 instances. For more information see https://docs.aws.amazon.com/systems-manager/latest/userguide/setup-instance-profile.html",
            "id": "arn:aws:iam::aws:policy/service-role/AmazonEC2RoleforSSM",
            "name": "AmazonEC2RoleforSSM",
            "path": "/service-role/",
            "path_prefix": null,
            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ssm:DescribeAssociation\",\n                \"ssm:GetDeployablePatchSnapshotForInstance\",\n                \"ssm:GetDocument\",\n                \"ssm:DescribeDocument\",\n                \"ssm:GetManifest\",\n                \"ssm:GetParameters\",\n                \"ssm:ListAssociations\",\n                \"ssm:ListInstanceAssociations\",\n                \"ssm:PutInventory\",\n                \"ssm:PutComplianceItems\",\n                \"ssm:PutConfigurePackageResult\",\n                \"ssm:UpdateAssociationStatus\",\n                \"ssm:UpdateInstanceAssociationStatus\",\n                \"ssm:UpdateInstanceInformation\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ssmmessages:CreateControlChannel\",\n                \"ssmmessages:CreateDataChannel\",\n                \"ssmmessages:OpenControlChannel\",\n                \"ssmmessages:OpenDataChannel\"         \n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2messages:AcknowledgeMessage\",\n                \"ec2messages:DeleteMessage\",\n                \"ec2messages:FailMessage\",\n                \"ec2messages:GetEndpoint\",\n                \"ec2messages:GetMessages\",\n                \"ec2messages:SendReply\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"cloudwatch:PutMetricData\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2:DescribeInstanceStatus\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ds:CreateComputer\",\n                \"ds:DescribeDirectories\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"logs:CreateLogGroup\",\n                \"logs:CreateLogStream\",\n                \"logs:DescribeLogGroups\",\n                \"logs:DescribeLogStreams\",\n                \"logs:PutLogEvents\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"s3:GetBucketLocation\",\n                \"s3:PutObject\",\n                \"s3:GetObject\",\n                \"s3:GetEncryptionConfiguration\",\n                \"s3:AbortMultipartUpload\",\n                \"s3:ListMultipartUploadParts\",\n                \"s3:ListBucket\",\n                \"s3:ListBucketMultipartUploads\"\n            ],\n            \"Resource\": \"*\"\n        }\n    ]\n}",
            "policy_id": "ANPAI6TL3SMY22S4KMMX6",
            "tags": {}
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "eventbridgepolicy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "3233437754",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": [\n          \"states.amazonaws.com\",\n          \"events.amazonaws.com\"\n        ]\n      }\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "events.amazonaws.com",
                      "states.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_subnet_ids",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filter": null,
            "id": "vpc-f16ae196",
            "ids": [
              "subnet-02a50a65",
              "subnet-58735c00",
              "subnet-8fa263c6"
            ],
            "tags": {
              "Name": "Private*"
            },
            "timeouts": null,
            "vpc_id": "vpc-f16ae196"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_subnet_ids",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filter": null,
            "id": "vpc-f16ae196",
            "ids": [
              "subnet-06a50a61",
              "subnet-8aa263c3",
              "subnet-a1745bf9"
            ],
            "tags": {
              "Name": "Public*"
            },
            "timeouts": null,
            "vpc_id": "vpc-f16ae196"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_vpc",
      "name": "em",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-west-2:344021507737:vpc/vpc-f16ae196",
            "cidr_block": "10.200.27.0/24",
            "cidr_block_associations": [
              {
                "association_id": "vpc-cidr-assoc-b77a32de",
                "cidr_block": "10.200.27.0/24",
                "state": "associated"
              }
            ],
            "default": false,
            "dhcp_options_id": "dopt-5c09ed3b",
            "enable_dns_hostnames": false,
            "enable_dns_support": true,
            "enable_network_address_usage_metrics": false,
            "filter": [
              {
                "name": "tag:Name",
                "values": [
                  "elmae-default"
                ]
              }
            ],
            "id": "vpc-f16ae196",
            "instance_tenancy": "default",
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "main_route_table_id": "rtb-22b19c45",
            "owner_id": "344021507737",
            "state": null,
            "tags": {
              "Name": "elmae-default"
            },
            "timeouts": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_event_rule",
      "name": "step-function-trigger",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:events:us-west-2:344021507737:rule/aiq-analyzers-default-step-function-rule",
            "description": "",
            "event_bus_name": "default",
            "event_pattern": "{\"detail\":{\"eventName\":[\"PutObject\"],\"eventSource\":[\"s3.amazonaws.com\"],\"requestParameters\":{\"bucketName\":[\"aiq-analyzers-default-344021507737\"]}},\"source\":[\"aws.s3\"]}",
            "id": "aiq-analyzers-default-step-function-rule",
            "is_enabled": true,
            "name": "aiq-analyzers-default-step-function-rule",
            "name_prefix": "",
            "role_arn": "",
            "schedule_expression": "",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "aws_lambda_function.comprehend",
            "aws_lambda_function.textract",
            "aws_s3_bucket.resultbucket",
            "aws_sqs_queue.VALIDATEQUEUE",
            "data.archive_file.comprehend",
            "data.archive_file.textract",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_event_target",
      "name": "step_function_target",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:states:us-west-2:344021507737:stateMachine:aiq-analyzers-default-state-machine",
            "batch_target": [],
            "dead_letter_config": [],
            "ecs_target": [],
            "event_bus_name": "default",
            "http_target": [],
            "id": "aiq-analyzers-default-step-function-rule-aiq-analyzers-default-step-function-target",
            "input": "",
            "input_path": "",
            "input_transformer": [],
            "kinesis_target": [],
            "redshift_target": [],
            "retry_policy": [],
            "role_arn": "arn:aws:iam::344021507737:role/terraform-20230329111135852100000001",
            "rule": "aiq-analyzers-default-step-function-rule",
            "run_command_targets": [],
            "sqs_target": [],
            "target_id": "aiq-analyzers-default-step-function-target"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_cloudwatch_event_rule.step-function-trigger",
            "aws_cloudwatch_log_group.MySFNLogGroup",
            "aws_iam_role.eventbridgerole",
            "aws_iam_role.lambda_role",
            "aws_iam_role.step_function_role",
            "aws_lambda_function.comprehend",
            "aws_lambda_function.textract",
            "aws_lambda_function.upload",
            "aws_lambda_function.validate",
            "aws_s3_bucket.resultbucket",
            "aws_sfn_state_machine.sfn_state_machine",
            "aws_sns_topic.snstopic",
            "aws_sqs_queue.INVALIDATEQUEUE",
            "aws_sqs_queue.VALIDATEQUEUE",
            "data.archive_file.comprehend",
            "data.archive_file.textract",
            "data.archive_file.upload",
            "data.archive_file.validate",
            "data.aws_caller_identity.current",
            "data.aws_iam_policy_document.eventbridgepolicy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "MySFNLogGroup",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-west-2:344021507737:log-group:/aws/aiq-analyzers/default/vendedlogs/states/StateMachine20230329111136273500000003",
            "id": "/aws/aiq-analyzers/default/vendedlogs/states/StateMachine20230329111136273500000003",
            "kms_key_id": "",
            "name": "/aws/aiq-analyzers/default/vendedlogs/states/StateMachine20230329111136273500000003",
            "name_prefix": "/aws/aiq-analyzers/default/vendedlogs/states/StateMachine",
            "retention_in_days": 60,
            "skip_destroy": false,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "comprehend",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-west-2:344021507737:log-group:/aws/lambda/defaultaws-aiq-analyzers-aiq-analyzers-default-comprehend-file-lambda",
            "id": "/aws/lambda/defaultaws-aiq-analyzers-aiq-analyzers-default-comprehend-file-lambda",
            "kms_key_id": "",
            "name": "/aws/lambda/defaultaws-aiq-analyzers-aiq-analyzers-default-comprehend-file-lambda",
            "name_prefix": "",
            "retention_in_days": 30,
            "skip_destroy": false,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "aws_lambda_function.comprehend",
            "data.archive_file.comprehend"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "extract",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-west-2:344021507737:log-group:/aws/lambda/defaultaws-aiq-analyzers-aiq-analyzers-default-textract-lambda-function",
            "id": "/aws/lambda/defaultaws-aiq-analyzers-aiq-analyzers-default-textract-lambda-function",
            "kms_key_id": "",
            "name": "/aws/lambda/defaultaws-aiq-analyzers-aiq-analyzers-default-textract-lambda-function",
            "name_prefix": "",
            "retention_in_days": 30,
            "skip_destroy": false,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "aws_lambda_function.textract",
            "aws_sqs_queue.VALIDATEQUEUE",
            "data.archive_file.textract"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "upload",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-west-2:344021507737:log-group:/aws/lambda/defaultaws-aiq-analyzers-aiq-analyzers-default-upload-lambda",
            "id": "/aws/lambda/defaultaws-aiq-analyzers-aiq-analyzers-default-upload-lambda",
            "kms_key_id": "",
            "name": "/aws/lambda/defaultaws-aiq-analyzers-aiq-analyzers-default-upload-lambda",
            "name_prefix": "",
            "retention_in_days": 30,
            "skip_destroy": false,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "aws_lambda_function.upload",
            "data.archive_file.upload"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "validate",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-west-2:344021507737:log-group:/aws/lambda/defaultaws-aiq-analyzers-aiq-analyzers-default-validate-file-lambda",
            "id": "/aws/lambda/defaultaws-aiq-analyzers-aiq-analyzers-default-validate-file-lambda",
            "kms_key_id": "",
            "name": "/aws/lambda/defaultaws-aiq-analyzers-aiq-analyzers-default-validate-file-lambda",
            "name_prefix": "",
            "retention_in_days": 30,
            "skip_destroy": false,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "aws_lambda_function.comprehend",
            "aws_lambda_function.textract",
            "aws_lambda_function.validate",
            "aws_s3_bucket.resultbucket",
            "aws_sns_topic.snstopic",
            "aws_sqs_queue.INVALIDATEQUEUE",
            "aws_sqs_queue.VALIDATEQUEUE",
            "data.archive_file.comprehend",
            "data.archive_file.textract",
            "data.archive_file.validate",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "app-logs-profile",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::344021507737:instance-profile/aiq-analyzers-logs-profile-default-20230329111138403900000009",
            "create_date": "2023-03-29T11:11:37Z",
            "id": "aiq-analyzers-logs-profile-default-20230329111138403900000009",
            "name": "aiq-analyzers-logs-profile-default-20230329111138403900000009",
            "name_prefix": "aiq-analyzers-logs-profile-default-",
            "path": "/",
            "role": "aiq-analyzers-logs-role-default",
            "tags": null,
            "tags_all": {},
            "unique_id": "AIPAVAGKHT2MZXJ25BNYR"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.app-logs-role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "StateMachineLogDeliveryPolicy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::344021507737:policy/terraform-20230329111136240100000002",
            "description": "",
            "id": "arn:aws:iam::344021507737:policy/terraform-20230329111136240100000002",
            "name": "terraform-20230329111136240100000002",
            "name_prefix": null,
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"logs:CreateLogDelivery\",\"logs:GetLogDelivery\",\"logs:UpdateLogDelivery\",\"logs:DeleteLogDelivery\",\"logs:ListLogDeliveries\",\"logs:PutResourcePolicy\",\"logs:DescribeResourcePolicies\",\"logs:DescribeLogGroups\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVAGKHT2MUWFXPCKSF",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "app-cross-account-policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::344021507737:policy/aiq-analyzers-cross-account-connect-policy-default",
            "description": "Policy for accessing Connct API",
            "id": "arn:aws:iam::344021507737:policy/aiq-analyzers-cross-account-connect-policy-default",
            "name": "aiq-analyzers-cross-account-connect-policy-default",
            "name_prefix": null,
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:iam::182125784941:role/connectdefault-aiq-analyzers-cross-account\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVAGKHT2M4TADCDJFX",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "app-logs-policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::344021507737:policy/aiq-analyzers-logs-policy-default",
            "description": "Policy granting permission to CloudWatch logs",
            "id": "arn:aws:iam::344021507737:policy/aiq-analyzers-logs-policy-default",
            "name": "aiq-analyzers-logs-policy-default",
            "name_prefix": null,
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:TagResource\",\"logs:UntagResource\",\"logs:ListTagsForResource\",\"logs:CreateLogStream\",\"logs:PutLogEvents\",\"logs:DescribeLogStreams\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:logs:*:*:*\"]}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVAGKHT2M4XYOSBR3I",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "comprehend-iam-policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::344021507737:policy/aiq-analyzers-default-amazon-comprehend-policy",
            "description": "Comprehend IAM Policy",
            "id": "arn:aws:iam::344021507737:policy/aiq-analyzers-default-amazon-comprehend-policy",
            "name": "aiq-analyzers-default-amazon-comprehend-policy",
            "name_prefix": null,
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"s3:GetObject\",\"s3:PutObject\",\"s3:PutObjectAcl\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVAGKHT2M7IRJ2MHIA",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "lambda_role_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::344021507737:policy/lambda_access-policy",
            "description": "IAM Policy",
            "id": "arn:aws:iam::344021507737:policy/lambda_access-policy",
            "name": "lambda_access-policy",
            "name_prefix": null,
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"s3:ListAllMyBuckets\",\"s3:GetBucketLocation\",\"s3:GetObject\",\"s3:PutObject\",\"s3:PutObjectAcl\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"s3:*\",\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"autoscaling:Describe*\",\"cloudwatch:*\",\"logs:*\",\"sns:*\",\"lambda:*\",\"textract:*\",\"comprehend:*\",\"sqs:*\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVAGKHT2M3FJQF3DIW",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "step_function_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::344021507737:policy/aiq-analyzers-default-stepfunction-role-policy",
            "description": "Step Function Access Policy",
            "id": "arn:aws:iam::344021507737:policy/aiq-analyzers-default-stepfunction-role-policy",
            "name": "aiq-analyzers-default-stepfunction-role-policy",
            "name_prefix": null,
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"lambda:InvokeFunction\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVAGKHT2M5B2WIOGJ7",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "textract-role-policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::344021507737:policy/aiq-analyzers-default-textract-role-policy",
            "description": "Provides access to sns and s3",
            "id": "arn:aws:iam::344021507737:policy/aiq-analyzers-default-textract-role-policy",
            "name": "aiq-analyzers-default-textract-role-policy",
            "name_prefix": null,
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"sns:*\",\"s3:GetObject\",\"s3:PutObject\",\"s3:PutObjectAcl\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVAGKHT2M6V6ORZBA4",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy_attachment",
      "name": "app-logs-policy-attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "groups": null,
            "id": "aiq-analyzers-logs-policy-attachment-default",
            "name": "aiq-analyzers-logs-policy-attachment-default",
            "policy_arn": "arn:aws:iam::344021507737:policy/aiq-analyzers-logs-policy-default",
            "roles": [
              "aiq-analyzers-logs-role-default"
            ],
            "users": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_policy.app-logs-policy",
            "aws_iam_role.app-logs-role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "app-logs-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::344021507737:role/aiq-analyzers-logs-role-default",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-03-29T11:11:35Z",
            "description": "",
            "force_detach_policies": true,
            "id": "aiq-analyzers-logs-role-default",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "aiq-analyzers-logs-role-default",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAVAGKHT2MZ3Q2NVISL"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "comprehend-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::344021507737:role/aiq-analyzers-default-comprehend-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"comprehend.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-03-29T11:11:33Z",
            "description": "",
            "force_detach_policies": false,
            "id": "aiq-analyzers-default-comprehend-role",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "aiq-analyzers-default-comprehend-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAVAGKHT2M5WBUUQTSJ"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "eventbridgerole",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::344021507737:role/terraform-20230329111135852100000001",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"states.amazonaws.com\",\"events.amazonaws.com\"]},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-03-29T11:11:34Z",
            "description": "",
            "force_detach_policies": false,
            "id": "terraform-20230329111135852100000001",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "terraform-20230329111135852100000001",
            "name_prefix": "terraform-",
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAVAGKHT2MSL3GNYFSL"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.eventbridgepolicy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::344021507737:role/aiq-analyzers-lambdarole-default",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-03-29T11:11:34Z",
            "description": "",
            "force_detach_policies": false,
            "id": "aiq-analyzers-lambdarole-default",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "aiq-analyzers-lambdarole-default",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAVAGKHT2MWT4T5E4RE"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "step_function_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::344021507737:role/aiq-analyzers-default-stepfunction-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"states.amazonaws.com\"},\"Sid\":\"StepFunctionAssumeRole\"}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-03-29T11:11:33Z",
            "description": "",
            "force_detach_policies": false,
            "id": "aiq-analyzers-default-stepfunction-role",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "aiq-analyzers-default-stepfunction-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAVAGKHT2MXNOQM7M54"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "textract-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::344021507737:role/aiq-analyzers-default-textract-role-name",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"textract.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-03-29T11:11:33Z",
            "description": "",
            "force_detach_policies": false,
            "id": "aiq-analyzers-default-textract-role-name",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "aiq-analyzers-default-textract-role-name",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAVAGKHT2MQZYA65LQE"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "StateMachinePolicyAttachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "aiq-analyzers-default-stepfunction-role-20230329111138191000000008",
            "policy_arn": "arn:aws:iam::344021507737:policy/terraform-20230329111136240100000002",
            "role": "aiq-analyzers-default-stepfunction-role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_policy.StateMachineLogDeliveryPolicy",
            "aws_iam_role.step_function_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "admin-policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "aiq-analyzers-logs-role-default-20230329111138178700000007",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonEC2RoleforSSM",
            "role": "aiq-analyzers-logs-role-default"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.app-logs-role",
            "data.aws_iam_policy.EC2SSMAccess"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "comprehend-policy-attach",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "aiq-analyzers-default-comprehend-role-20230329111137487500000005",
            "policy_arn": "arn:aws:iam::344021507737:policy/aiq-analyzers-default-amazon-comprehend-policy",
            "role": "aiq-analyzers-default-comprehend-role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_policy.comprehend-iam-policy",
            "aws_iam_role.comprehend-role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda-policy-attach",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "aiq-analyzers-lambdarole-default-20230329111138036500000006",
            "policy_arn": "arn:aws:iam::344021507737:policy/lambda_access-policy",
            "role": "aiq-analyzers-lambdarole-default"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_policy.lambda_role_policy",
            "aws_iam_role.lambda_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "stepfunction_attach",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "aiq-analyzers-default-stepfunction-role-2023032911113877860000000a",
            "policy_arn": "arn:aws:iam::344021507737:policy/aiq-analyzers-default-stepfunction-role-policy",
            "role": "aiq-analyzers-default-stepfunction-role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_policy.step_function_policy",
            "aws_iam_role.step_function_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "textract_policy_attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "aiq-analyzers-default-textract-role-name-20230329111137376900000004",
            "policy_arn": "arn:aws:iam::344021507737:policy/aiq-analyzers-default-textract-role-policy",
            "role": "aiq-analyzers-default-textract-role-name"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_policy.textract-role-policy",
            "aws_iam_role.textract-role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_event_source_mapping",
      "name": "queue",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "amazon_managed_kafka_event_source_config": [],
            "batch_size": 10,
            "bisect_batch_on_function_error": false,
            "destination_config": [],
            "enabled": true,
            "event_source_arn": "arn:aws:sqs:us-west-2:344021507737:aiq-analyzers-default-sqs-queue-validate",
            "filter_criteria": [],
            "function_arn": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-validate-file-lambda",
            "function_name": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-validate-file-lambda",
            "function_response_types": null,
            "id": "b09d50c6-748c-4b72-8cfd-f2eda77c75cc",
            "last_modified": "2023-03-29T11:12:24Z",
            "last_processing_result": "",
            "maximum_batching_window_in_seconds": 0,
            "maximum_record_age_in_seconds": 0,
            "maximum_retry_attempts": 0,
            "parallelization_factor": 0,
            "queues": null,
            "scaling_config": [],
            "self_managed_event_source": [],
            "self_managed_kafka_event_source_config": [],
            "source_access_configuration": [],
            "starting_position": "",
            "starting_position_timestamp": "",
            "state": "Enabled",
            "state_transition_reason": "USER_INITIATED",
            "topics": null,
            "tumbling_window_in_seconds": 0,
            "uuid": "b09d50c6-748c-4b72-8cfd-f2eda77c75cc"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "aws_lambda_function.comprehend",
            "aws_lambda_function.textract",
            "aws_lambda_function.validate",
            "aws_s3_bucket.resultbucket",
            "aws_sns_topic.snstopic",
            "aws_sqs_queue.INVALIDATEQUEUE",
            "aws_sqs_queue.VALIDATEQUEUE",
            "data.archive_file.comprehend",
            "data.archive_file.textract",
            "data.archive_file.validate",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "comprehend",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-comprehend-file-lambda",
            "code_signing_config_arn": "",
            "dead_letter_config": [],
            "description": "comprehend lambda function",
            "environment": [],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": "../app-infrastructure/lambda_files/comprehend.zip",
            "function_name": "aiq-analyzers-default-comprehend-file-lambda",
            "handler": "comprehend.lambda_handler",
            "id": "aiq-analyzers-default-comprehend-file-lambda",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-comprehend-file-lambda/invocations",
            "kms_key_arn": "",
            "last_modified": "2023-03-29T11:11:46.081+0000",
            "layers": null,
            "memory_size": 128,
            "package_type": "Zip",
            "publish": false,
            "qualified_arn": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-comprehend-file-lambda:$LATEST",
            "qualified_invoke_arn": "arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-comprehend-file-lambda:$LATEST/invocations",
            "replace_security_groups_on_destroy": null,
            "replacement_security_group_ids": null,
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::344021507737:role/aiq-analyzers-lambdarole-default",
            "runtime": "python3.9",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "snap_start": [],
            "source_code_hash": "ORRJiIOUGFEFb/qvtFDdtwAiFRNlnpirPzzqYLNWFHM=",
            "source_code_size": 1093,
            "tags": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-comprehend-file-lambda"
            },
            "tags_all": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-comprehend-file-lambda"
            },
            "timeout": 120,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "data.archive_file.comprehend"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "textract",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-textract-lambda-function",
            "code_signing_config_arn": "",
            "dead_letter_config": [],
            "description": "textract lambda function",
            "environment": [
              {
                "variables": {
                  "allqueue": "https://sqs.us-west-2.amazonaws.com/344021507737/aiq-analyzers-default-sqs-queue-validate"
                }
              }
            ],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": "../app-infrastructure/lambda_files/textract.zip",
            "function_name": "aiq-analyzers-default-textract-lambda-function",
            "handler": "textract.lambda_handler",
            "id": "aiq-analyzers-default-textract-lambda-function",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-textract-lambda-function/invocations",
            "kms_key_arn": "",
            "last_modified": "2023-03-29T11:12:01.530+0000",
            "layers": null,
            "memory_size": 128,
            "package_type": "Zip",
            "publish": false,
            "qualified_arn": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-textract-lambda-function:$LATEST",
            "qualified_invoke_arn": "arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-textract-lambda-function:$LATEST/invocations",
            "replace_security_groups_on_destroy": null,
            "replacement_security_group_ids": null,
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::344021507737:role/aiq-analyzers-lambdarole-default",
            "runtime": "python3.9",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "snap_start": [],
            "source_code_hash": "J6ZYZI4GlMUR1OgdLk9i10m5hKqCiTtFGHhkv/Xn21Y=",
            "source_code_size": 692,
            "tags": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-textract-lambda-function"
            },
            "tags_all": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-textract-lambda-function"
            },
            "timeout": 120,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "aws_sqs_queue.VALIDATEQUEUE",
            "data.archive_file.textract"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "upload",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-upload-lambda",
            "code_signing_config_arn": "",
            "dead_letter_config": [],
            "description": "Upload",
            "environment": [],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": "../app-infrastructure/lambda_files/upload.zip",
            "function_name": "aiq-analyzers-default-upload-lambda",
            "handler": "upload.lambda_handler",
            "id": "aiq-analyzers-default-upload-lambda",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-upload-lambda/invocations",
            "kms_key_arn": "",
            "last_modified": "2023-03-29T11:11:52.999+0000",
            "layers": null,
            "memory_size": 128,
            "package_type": "Zip",
            "publish": false,
            "qualified_arn": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-upload-lambda:$LATEST",
            "qualified_invoke_arn": "arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-upload-lambda:$LATEST/invocations",
            "replace_security_groups_on_destroy": null,
            "replacement_security_group_ids": null,
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::344021507737:role/aiq-analyzers-lambdarole-default",
            "runtime": "python3.9",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "snap_start": [],
            "source_code_hash": "IWtJz9lRVOlJVcq5OIQtXeyfUr3Ig/Hw3puQg5V18ew=",
            "source_code_size": 606,
            "tags": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-upload-lambda"
            },
            "tags_all": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-upload-lambda"
            },
            "timeout": 180,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "data.archive_file.upload"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "validate",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-validate-file-lambda",
            "code_signing_config_arn": "",
            "dead_letter_config": [],
            "description": "validate lambda function",
            "environment": [
              {
                "variables": {
                  "invalidqueue": "https://sqs.us-west-2.amazonaws.com/344021507737/aiq-analyzers-default-sqs-queue-invalidate",
                  "invalidsns": "arn:aws:sns:us-west-2:344021507737:aiq-analyzers-default-sns-topic",
                  "resultbucket": "aiq-analyzers-default-344021507737"
                }
              }
            ],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": "../app-infrastructure/lambda_files/validate.zip",
            "function_name": "aiq-analyzers-default-validate-file-lambda",
            "handler": "validate.lambda_handler",
            "id": "aiq-analyzers-default-validate-file-lambda",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-validate-file-lambda/invocations",
            "kms_key_arn": "",
            "last_modified": "2023-03-29T11:12:17.253+0000",
            "layers": null,
            "memory_size": 128,
            "package_type": "Zip",
            "publish": false,
            "qualified_arn": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-validate-file-lambda:$LATEST",
            "qualified_invoke_arn": "arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-validate-file-lambda:$LATEST/invocations",
            "replace_security_groups_on_destroy": null,
            "replacement_security_group_ids": null,
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::344021507737:role/aiq-analyzers-lambdarole-default",
            "runtime": "python3.9",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "snap_start": [],
            "source_code_hash": "aGFr+a1JINXw5hDUw5lNfQP0SgL0E7ZajkAL+hVAP4Q=",
            "source_code_size": 990,
            "tags": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-validate-file-lambda"
            },
            "tags_all": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-validate-file-lambda"
            },
            "timeout": 120,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "aws_lambda_function.comprehend",
            "aws_lambda_function.textract",
            "aws_s3_bucket.resultbucket",
            "aws_sns_topic.snstopic",
            "aws_sqs_queue.INVALIDATEQUEUE",
            "aws_sqs_queue.VALIDATEQUEUE",
            "data.archive_file.comprehend",
            "data.archive_file.textract",
            "data.archive_file.validate",
            "data.aws_caller_identity.current"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_permission",
      "name": "bucketpermission-comprehend",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": "lambda:InvokeFunction",
            "event_source_token": "",
            "function_name": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-comprehend-file-lambda",
            "function_url_auth_type": "",
            "id": "terraform-2023032911121835530000000b",
            "principal": "s3.amazonaws.com",
            "principal_org_id": "",
            "qualifier": "",
            "source_account": "344021507737",
            "source_arn": "arn:aws:s3:::aiq-analyzers-default-344021507737",
            "statement_id": "terraform-2023032911121835530000000b",
            "statement_id_prefix": "terraform-"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "aws_lambda_function.comprehend",
            "aws_lambda_function.textract",
            "aws_s3_bucket.resultbucket",
            "aws_sqs_queue.VALIDATEQUEUE",
            "data.archive_file.comprehend",
            "data.archive_file.textract",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_permission",
      "name": "bucketpermission-extract",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": "lambda:InvokeFunction",
            "event_source_token": "",
            "function_name": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-textract-lambda-function",
            "function_url_auth_type": "",
            "id": "terraform-2023032911121844060000000c",
            "principal": "s3.amazonaws.com",
            "principal_org_id": "",
            "qualifier": "",
            "source_account": "344021507737",
            "source_arn": "arn:aws:s3:::aiq-analyzers-default-344021507737",
            "statement_id": "terraform-2023032911121844060000000c",
            "statement_id_prefix": "terraform-"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "aws_lambda_function.comprehend",
            "aws_lambda_function.textract",
            "aws_s3_bucket.resultbucket",
            "aws_sqs_queue.VALIDATEQUEUE",
            "data.archive_file.comprehend",
            "data.archive_file.textract",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "resultbucket",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "private",
            "arn": "arn:aws:s3:::aiq-analyzers-default-344021507737",
            "bucket": "aiq-analyzers-default-344021507737",
            "bucket_domain_name": "aiq-analyzers-default-344021507737.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "aiq-analyzers-default-344021507737.s3.us-west-2.amazonaws.com",
            "cors_rule": [],
            "force_destroy": false,
            "grant": [
              {
                "id": "655b0e38f41b7b29aa244b17505ceaf0bbcfcf79fa89b0f67eeb6c3f2295b1eb",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z3BJ6K6RIION7M",
            "id": "aiq-analyzers-default-344021507737",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "us-west-2",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-344021507737"
            },
            "tags_all": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-344021507737"
            },
            "timeouts": null,
            "versioning": [
              {
                "enabled": true,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "aws_lambda_function.comprehend",
            "aws_lambda_function.textract",
            "aws_sqs_queue.VALIDATEQUEUE",
            "data.archive_file.comprehend",
            "data.archive_file.textract",
            "data.aws_caller_identity.current"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "resultbucket1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "private",
            "arn": "arn:aws:s3:::aiq-analyzers-default-outputbucket",
            "bucket": "aiq-analyzers-default-outputbucket",
            "bucket_domain_name": "aiq-analyzers-default-outputbucket.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "aiq-analyzers-default-outputbucket.s3.us-west-2.amazonaws.com",
            "cors_rule": [],
            "force_destroy": false,
            "grant": [
              {
                "id": "655b0e38f41b7b29aa244b17505ceaf0bbcfcf79fa89b0f67eeb6c3f2295b1eb",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z3BJ6K6RIION7M",
            "id": "aiq-analyzers-default-outputbucket",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "us-west-2",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-outputbucket"
            },
            "tags_all": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-outputbucket"
            },
            "timeouts": null,
            "versioning": [
              {
                "enabled": true,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_notification",
      "name": "resultbucket_notification",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "aiq-analyzers-default-344021507737",
            "eventbridge": false,
            "id": "aiq-analyzers-default-344021507737",
            "lambda_function": [
              {
                "events": [
                  "s3:ObjectCreated:*"
                ],
                "filter_prefix": "result/",
                "filter_suffix": "",
                "id": "tf-s3-lambda-2023032911121849440000000d",
                "lambda_function_arn": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-comprehend-file-lambda"
              },
              {
                "events": [
                  "s3:ObjectCreated:*"
                ],
                "filter_prefix": "input/",
                "filter_suffix": ".png",
                "id": "tf-s3-lambda-2023032911121849440000000e",
                "lambda_function_arn": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-textract-lambda-function"
              },
              {
                "events": [
                  "s3:ObjectCreated:*"
                ],
                "filter_prefix": "input/",
                "filter_suffix": ".jpg",
                "id": "tf-s3-lambda-2023032911121849440000000f",
                "lambda_function_arn": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-textract-lambda-function"
              },
              {
                "events": [
                  "s3:ObjectCreated:*"
                ],
                "filter_prefix": "input/",
                "filter_suffix": ".pdf",
                "id": "tf-s3-lambda-20230329111218494400000010",
                "lambda_function_arn": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-textract-lambda-function"
              },
              {
                "events": [
                  "s3:ObjectCreated:*"
                ],
                "filter_prefix": "input/",
                "filter_suffix": ".csv",
                "id": "tf-s3-lambda-20230329111218494400000011",
                "lambda_function_arn": "arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-textract-lambda-function"
              }
            ],
            "queue": [],
            "topic": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "aws_lambda_function.comprehend",
            "aws_lambda_function.textract",
            "aws_s3_bucket.resultbucket",
            "aws_sqs_queue.VALIDATEQUEUE",
            "data.archive_file.comprehend",
            "data.archive_file.textract",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_public_access_block",
      "name": "result-block-public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "block_public_acls": true,
            "block_public_policy": true,
            "bucket": "aiq-analyzers-default-344021507737",
            "id": "aiq-analyzers-default-344021507737",
            "ignore_public_acls": true,
            "restrict_public_buckets": true
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_role",
            "aws_lambda_function.comprehend",
            "aws_lambda_function.textract",
            "aws_s3_bucket.resultbucket",
            "aws_sqs_queue.VALIDATEQUEUE",
            "data.archive_file.comprehend",
            "data.archive_file.textract",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_sfn_state_machine",
      "name": "sfn_state_machine",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:states:us-west-2:344021507737:stateMachine:aiq-analyzers-default-state-machine",
            "creation_date": "2023-03-29T11:12:25Z",
            "definition": "{\r\n    \"Comment\": \"Invoke AWS Lambda from AWS Step Functions\",\r\n    \"StartAt\": \"Upload\",\r\n    \"States\": {\r\n        \"Upload\": {\r\n            \"Comment\": \"Uploading file to s3 bucket\",\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-upload-lambda\",\r\n            \"Next\": \"Convert\"\r\n        },\r\n        \"Convert\": {\r\n            \"Comment\": \"Convert file to csv and send in a queue\",\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-validate-file-lambda\",\r\n            \"Next\": \"Extract\"\r\n        },\r\n        \"Extract\": {\r\n            \"Comment\": \"It helps in extracting the document by word or line\",\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-textract-lambda-function\",\r\n            \"Next\": \"Comprehend\"\r\n        },\r\n        \"Comprehend\": {\r\n            \"Comment\": \"It classifies the document based on the file\",\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:lambda:us-west-2:344021507737:function:aiq-analyzers-default-comprehend-file-lambda\",\r\n            \"End\": true\r\n        }\r\n    }\r\n}\r\n",
            "id": "arn:aws:states:us-west-2:344021507737:stateMachine:aiq-analyzers-default-state-machine",
            "logging_configuration": [
              {
                "include_execution_data": true,
                "level": "ALL",
                "log_destination": "arn:aws:logs:us-west-2:344021507737:log-group:/aws/aiq-analyzers/default/vendedlogs/states/StateMachine20230329111136273500000003:*"
              }
            ],
            "name": "aiq-analyzers-default-state-machine",
            "name_prefix": "",
            "role_arn": "arn:aws:iam::344021507737:role/aiq-analyzers-default-stepfunction-role",
            "status": "ACTIVE",
            "tags": null,
            "tags_all": {},
            "tracing_configuration": [
              {
                "enabled": false
              }
            ],
            "type": "STANDARD"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.MySFNLogGroup",
            "aws_iam_role.lambda_role",
            "aws_iam_role.step_function_role",
            "aws_lambda_function.comprehend",
            "aws_lambda_function.textract",
            "aws_lambda_function.upload",
            "aws_lambda_function.validate",
            "aws_s3_bucket.resultbucket",
            "aws_sns_topic.snstopic",
            "aws_sqs_queue.INVALIDATEQUEUE",
            "aws_sqs_queue.VALIDATEQUEUE",
            "data.archive_file.comprehend",
            "data.archive_file.textract",
            "data.archive_file.upload",
            "data.archive_file.validate",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_sns_topic",
      "name": "snstopic",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "application_failure_feedback_role_arn": "",
            "application_success_feedback_role_arn": "",
            "application_success_feedback_sample_rate": 0,
            "arn": "arn:aws:sns:us-west-2:344021507737:aiq-analyzers-default-sns-topic",
            "content_based_deduplication": false,
            "delivery_policy": "",
            "display_name": "",
            "fifo_topic": false,
            "firehose_failure_feedback_role_arn": "",
            "firehose_success_feedback_role_arn": "",
            "firehose_success_feedback_sample_rate": 0,
            "http_failure_feedback_role_arn": "",
            "http_success_feedback_role_arn": "",
            "http_success_feedback_sample_rate": 0,
            "id": "arn:aws:sns:us-west-2:344021507737:aiq-analyzers-default-sns-topic",
            "kms_master_key_id": "",
            "lambda_failure_feedback_role_arn": "",
            "lambda_success_feedback_role_arn": "",
            "lambda_success_feedback_sample_rate": 0,
            "name": "aiq-analyzers-default-sns-topic",
            "name_prefix": "",
            "owner": "344021507737",
            "policy": "{\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"344021507737\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:sns:us-west-2:344021507737:aiq-analyzers-default-sns-topic\",\"Sid\":\"__default_statement_ID\"}],\"Version\":\"2008-10-17\"}",
            "sqs_failure_feedback_role_arn": "",
            "sqs_success_feedback_role_arn": "",
            "sqs_success_feedback_sample_rate": 0,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_sns_topic_policy",
      "name": "aiq-snstopicpolicy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:sns:us-west-2:344021507737:aiq-analyzers-default-sns-topic",
            "id": "arn:aws:sns:us-west-2:344021507737:aiq-analyzers-default-sns-topic",
            "owner": "344021507737",
            "policy": "{\"Statement\":[{\"Action\":\"sns:Publish\",\"Condition\":{\"ArnEquals\":{\"aws:SourceArn\":\"arn:aws:events:us-west-2:344021507737:rule/aiq-analyzers-default-step-function-rule\"}},\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"events.amazonaws.com\"},\"Resource\":\"arn:aws:sns:us-west-2:344021507737:aiq-analyzers-default-sns-topic\",\"Sid\":\"AWSEventsPermission\"}],\"Version\":\"2012-10-17\"}"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_event_rule.step-function-trigger",
            "aws_iam_role.lambda_role",
            "aws_lambda_function.comprehend",
            "aws_lambda_function.textract",
            "aws_s3_bucket.resultbucket",
            "aws_sns_topic.snstopic",
            "aws_sqs_queue.VALIDATEQUEUE",
            "data.archive_file.comprehend",
            "data.archive_file.textract",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_sqs_queue",
      "name": "ALLEQUEUE",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:sqs:us-west-2:344021507737:aiq-analyzers-default-sqs-queue",
            "content_based_deduplication": false,
            "deduplication_scope": "",
            "delay_seconds": 0,
            "fifo_queue": false,
            "fifo_throughput_limit": "",
            "id": "https://sqs.us-west-2.amazonaws.com/344021507737/aiq-analyzers-default-sqs-queue",
            "kms_data_key_reuse_period_seconds": 300,
            "kms_master_key_id": "",
            "max_message_size": 262144,
            "message_retention_seconds": 345600,
            "name": "aiq-analyzers-default-sqs-queue",
            "name_prefix": "",
            "policy": "",
            "receive_wait_time_seconds": 0,
            "redrive_allow_policy": "",
            "redrive_policy": "",
            "sqs_managed_sse_enabled": true,
            "tags": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-sqs-queue"
            },
            "tags_all": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-sqs-queue"
            },
            "url": "https://sqs.us-west-2.amazonaws.com/344021507737/aiq-analyzers-default-sqs-queue",
            "visibility_timeout_seconds": 240
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_sqs_queue",
      "name": "INVALIDATEQUEUE",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:sqs:us-west-2:344021507737:aiq-analyzers-default-sqs-queue-invalidate",
            "content_based_deduplication": false,
            "deduplication_scope": "",
            "delay_seconds": 0,
            "fifo_queue": false,
            "fifo_throughput_limit": "",
            "id": "https://sqs.us-west-2.amazonaws.com/344021507737/aiq-analyzers-default-sqs-queue-invalidate",
            "kms_data_key_reuse_period_seconds": 300,
            "kms_master_key_id": "",
            "max_message_size": 262144,
            "message_retention_seconds": 345600,
            "name": "aiq-analyzers-default-sqs-queue-invalidate",
            "name_prefix": "",
            "policy": "",
            "receive_wait_time_seconds": 0,
            "redrive_allow_policy": "",
            "redrive_policy": "",
            "sqs_managed_sse_enabled": true,
            "tags": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-sqs-queue-invalidate"
            },
            "tags_all": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-sqs-queue-invalidate"
            },
            "url": "https://sqs.us-west-2.amazonaws.com/344021507737/aiq-analyzers-default-sqs-queue-invalidate",
            "visibility_timeout_seconds": 30
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_sqs_queue",
      "name": "VALIDATEQUEUE",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:sqs:us-west-2:344021507737:aiq-analyzers-default-sqs-queue-validate",
            "content_based_deduplication": false,
            "deduplication_scope": "",
            "delay_seconds": 0,
            "fifo_queue": false,
            "fifo_throughput_limit": "",
            "id": "https://sqs.us-west-2.amazonaws.com/344021507737/aiq-analyzers-default-sqs-queue-validate",
            "kms_data_key_reuse_period_seconds": 300,
            "kms_master_key_id": "",
            "max_message_size": 262144,
            "message_retention_seconds": 345600,
            "name": "aiq-analyzers-default-sqs-queue-validate",
            "name_prefix": "",
            "policy": "",
            "receive_wait_time_seconds": 0,
            "redrive_allow_policy": "",
            "redrive_policy": "",
            "sqs_managed_sse_enabled": true,
            "tags": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-sqs-queue-validate"
            },
            "tags_all": {
              "Environment": "default",
              "Name": "aiq-analyzers-default-sqs-queue-validate"
            },
            "url": "https://sqs.us-west-2.amazonaws.com/344021507737/aiq-analyzers-default-sqs-queue-validate",
            "visibility_timeout_seconds": 240
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    }
  ],
  "check_results": null
}
